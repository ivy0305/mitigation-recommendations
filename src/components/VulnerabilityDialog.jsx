import {
  Dialog,
  DialogActions,
  DialogContent,
  DialogTitle,
  Button,
} from "@mui/material";
import CloseIcon from "@mui/icons-material/Close";
import "./styles.css";

function VulnerabilityDialog(props) {
  const vulnerabilitiesLength = props.vulnerabilities.length;
  return (
    <Dialog
      open={props.open}
      onClose={props.handleClose}
      fullWidth={true}
      maxWidth="md"
    >
      <DialogTitle>Mitigation technique: {props.mitigation}</DialogTitle>
      <DialogContent>
        {vulnerabilitiesLength === 1 ? (
          <p>
            <b>Related Vulnerability:</b>
          </p>
        ) : (
          <p>
            <b>Related Vulnerabilities:</b>
          </p>
        )}
        {props.vulnerabilities.map((vulnerability) => (
          <ul key={vulnerability}>
            <li>{vulnerability}</li>
          </ul>
        ))}
      </DialogContent>
      <DialogActions>
        <Button
          variant="contained"
          color="btn"
          onClick={props.handleClose}
          sx={{ letterSpacing: 1 }}
        >
          <CloseIcon fontSize="small" sx={{ marginRight: 1 }} />
          Close
        </Button>
      </DialogActions>
    </Dialog>
  );
}

export default VulnerabilityDialog;
